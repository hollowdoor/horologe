var horologe=function(){"use strict";function t(t){this.listeners={},this.__context=t||this}t.prototype={constructor:t,on:function(t,n){return this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(n),this},one:function(t,n){return this.on(t,function e(){return n.apply(this,arguments),this.off(t,e),this})},emit:function(t){if(void 0===this.listeners[t]||!this.listeners[t].length)return this;var n=Array.prototype.slice.call(arguments,1),e=this.listeners[t].length;do{this.listeners[t][--e].apply(this.__context,n)}while(e);return this},off:function(t,n){return void 0!==this.listeners[t]&&this.listeners[t].length?(this.listeners[t]=this.listeners[t].filter(function(t){return t!==n}),this):this},dispose:function(){for(var t in this)this[t]=null}};var n=t,e=void 0!==Date.now?Date.now:function(){return(new Date).getTime()},i=function(t){if(!t)return e;var n=(Function.prototype.bind?function(t,n){return t.bind(n)}:function(t,n){return function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];return t.apply(n,e)}})(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return e()},performance),i=performance.timing.navigationStart;return function(){return i+n()}},r=function(t){function n(n,e){var r=this;void 0===n&&(n=1e3),void 0===e&&(e={});var o=e.sync;void 0===o&&(o=1e3);var s=e.tick;void 0===s&&(s=null);var u=e.highres;void 0===u&&(u=!1),t.call(this);var c=i(u),f=null,h=!1,a=!1,p=0,l=1/0,v=c();"function"==typeof s&&this.on("tick",s),Object.defineProperties(this,{interval:{get:function(){return n}},paused:{get:function(){return a}},running:{get:function(){return h}},count:{get:function(){return p}},percent:{get:function(){return p/(l/n)*100}}});var m=function(){clearTimeout(f),f=null,h=!1},d=function(t,n,e){a=!1,f=setTimeout(n,e),r.emit("start",t)},g=function(){if(h){var t=c(),e=(t-v)%n;if(t-=e,a){if(t>=pauseTime+v)return;a=!1}if(++p>l/n)return r.emit("complete"),void r.stop();f=setTimeout(g,n-e),r.emit("tick",t,t-v,e)}};this.stop=function(){return p=0,a=!1,m(),this.emit("stop"),this},this.pause=function(t){return void 0===t&&(t=1/0),a=!0,pauseTime=t,this.emit("pause"),this},this.range=function(t){return void 0===t?l:(l=t,this)},this.start=function(){return h&&this.stop(),h=!0,a?a=!1:v=c(),o?(a||(v=v-v%o+o),d(v,g,v-c()),this):(d(v,g,0),this)}}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.dispose=function(){var n=this;t.prototype.dispose.call(this),Object.keys(this).forEach(function(t){try{delete n[t]}catch(t){}})},n}(n);return r.create=function(t,n){return new r(t,n)},r.now=e,r}();
//# sourceMappingURL=horologe.min.js.map
